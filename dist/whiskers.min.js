// whiskers.js templating library v0.0.4
(function(a){a.cache={},a.render=function(b,c,d){b=a.expand(b,d),c=c||{};if(a.cache[b])return a.cache[b](c);a.cache[b]=a.compile(b);return a.cache[b](c)},a.MAX_TEMPLATE_DEPTH=20,a.expand=function(b,c){var d=function(a,b){var c=b.split(".");for(var d=0,e=c.length;d<e;d++){if(!a)break;a=a[c[d]]}return a||""},e=function(b,c,f,g){b=(b||"")+"",f=f||"",b=f+b.replace(/\n+$/,"").replace(/\n/g,f||"\n"),g=g||0;if(g>a.MAX_TEMPLATE_DEPTH){console.warn("maximum template depth reached");return b}g++;return b.replace(/(\n[ \t]+|)(\\*){>([\w.]+)}/g,function(a,f,h,i){if(h)return a.replace("\\","");b=d(c,i);return e(b,c,f,g)})};return e(b,c)},a.compile=function(a){a=(a||"")+"",a=a.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,""),a=a.replace(/(\\n[ \t]*|)(\\*){![\s\S]*?!}(?:([ \t]*(?=\\n))|)/,function(a,b,c,d){if(c)return a.replace("\\\\","");b&&d!==undefined&&(b="");return b+""}),a=a.replace(/(\\*){([\w.]+)}/g,function(a,b,c){if(b)return a.replace("\\\\","");return"'+g(c,'"+c+"')+'"});var b=[],c;a=a.replace(/(\\n[ \t]*|)(\\*){(?:for +(\w+) +in +([\w.]+)|if +(not +|)([\w.]+)|\/(for|if))}(?:([ \t]*(?=\\n))|)/g,function(a,d,e,f,g,h,i,j,k,l,m){if(e)return a.replace("\\\\","");d&&k!==undefined&&(d="");if(g){b.push({statement:"for"});return d+"';var "+f+"A=g(c,'"+g+"');for(var "+f+"I=0;"+f+"I<"+f+"A.length;"+f+"I++){c['"+f+"']="+f+"A["+f+"I];b+='"}if(i){b.push({statement:"if"});return d+"';if("+(h?"!":"")+"g(c,'"+i+"')){b+='"}if(j){c=b[b.length-1];if(c&&c.statement==j){b.pop();return d+"';}b+='"}console.warn("extra {/"+j+"} ignored");return""}return a});for(var d=b.length-1;d>-1;d--)c=b[d],console.warn('extra "'+c.statement+'" closed at end of template'),a=a+"';}b+='";return new Function("c","var g=function(o,k){var a=k.split('.');for(var i=0,l=a.length;i<l;i++){o=o[a[i]];if(!o)break}if(typeof o=='function')o=o();if(o===undefined)o='';return o};var b='"+a+"';return b")}})(typeof module=="object"?module.exports:this.whiskers={})
